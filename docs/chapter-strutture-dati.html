<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capitolo 5 Strutture di dati | Data Science per psicologi</title>
<meta name="author" content="Corrado Caudek">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Data Science per psicologi</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Benvenuti</a></li>
<li class="book-part">Obiettivi formativi</li>
<li><a class="" href="conoscenza-dichiarativa-e-imperativa.html"><span class="header-section-number">1</span> Conoscenza dichiarativa e imperativa</a></li>
<li class="book-part">Introduzione al linguaggio R</li>
<li><a class="" href="introduzione.html">Introduzione</a></li>
<li><a class="" href="chapter-pacchetti.html"><span class="header-section-number">2</span> Pacchetti</a></li>
<li><a class="" href="chapter-install-r.html"><span class="header-section-number">3</span> Per cominciare</a></li>
<li><a class="" href="chapter-sintassi.html"><span class="header-section-number">4</span> Sintassi di base</a></li>
<li><a class="active" href="chapter-strutture-dati.html"><span class="header-section-number">5</span> Strutture di dati</a></li>
<li><a class="" href="chapter-strut-contr.html"><span class="header-section-number">6</span> Strutture di controllo</a></li>
<li><a class="" href="chapter-input-output.html"><span class="header-section-number">7</span> Input/Output</a></li>
<li><a class="" href="manipolazione-dei-dati.html"><span class="header-section-number">8</span> Manipolazione dei dati</a></li>
<li><a class="" href="flusso-di-lavoro-riproducibile.html"><span class="header-section-number">9</span> Flusso di lavoro riproducibile</a></li>
<li class="book-part">Statistica descrittiva ed analisi esplorativa dei dat̀i</li>
<li><a class="" href="introduzione-1.html">Introduzione</a></li>
<li><a class="" href="terminologia.html"><span class="header-section-number">10</span> Terminologia</a></li>
<li><a class="" href="chapter-misurazione.html"><span class="header-section-number">11</span> La misurazione in psicologia</a></li>
<li><a class="" href="chapter-descript.html"><span class="header-section-number">12</span> Statistica descrittiva</a></li>
<li class="book-part">Nozioni di base</li>
<li><a class="" href="introduzione-2.html">Introduzione</a></li>
<li><a class="" href="il-calcolo-delle-probabilit%C3%A0.html"><span class="header-section-number">13</span> Il calcolo delle probabilità</a></li>
<li><a class="" href="chapter-prob-cond.html"><span class="header-section-number">14</span> Probabilità condizionata</a></li>
<li><a class="" href="chapter-teo-bayes.html"><span class="header-section-number">15</span> Il teorema di Bayes</a></li>
<li><a class="" href="chapter-prob-congiunta.html"><span class="header-section-number">16</span> Probabilità congiunta</a></li>
<li><a class="" href="la-distribuzione-binomiale.html"><span class="header-section-number">17</span> La distribuzione binomiale</a></li>
<li><a class="" href="funzioni-di-densit%C3%A0-di-probabilit%C3%A0.html"><span class="header-section-number">18</span> Funzioni di densità di probabilità</a></li>
<li><a class="" href="la-funzione-di-verosimiglianza.html"><span class="header-section-number">19</span> La funzione di verosimiglianza</a></li>
<li class="book-part">Inferenza frequentista</li>
<li><a class="" href="introduzione-3.html">Introduzione</a></li>
<li><a class="" href="distribuzione-campionaria.html"><span class="header-section-number">20</span> Distribuzione campionaria</a></li>
<li><a class="" href="significativit%C3%A0-statistica.html"><span class="header-section-number">21</span> Significatività statistica</a></li>
<li><a class="" href="inferenza-sulle-medie.html"><span class="header-section-number">22</span> Inferenza sulle medie</a></li>
<li><a class="" href="critiche-e-difese.html"><span class="header-section-number">23</span> Critiche e difese</a></li>
<li class="book-part">Inferenza Bayesiana</li>
<li><a class="" href="introduzione-4.html">Introduzione</a></li>
<li><a class="" href="modellistica-bayesiana.html"><span class="header-section-number">24</span> Modellistica Bayesiana</a></li>
<li><a class="" href="stima-della-funzione-a-posteriori.html"><span class="header-section-number">25</span> Stima della funzione a posteriori</a></li>
<li><a class="" href="sintesi-a-posteriori.html"><span class="header-section-number">26</span> Sintesi a posteriori</a></li>
<li><a class="" href="una-breve-introduzione-al-modello-di-regressione.html"><span class="header-section-number">27</span> Una breve introduzione al modello di regressione</a></li>
<li><a class="" href="il-modello-statistico-della-regressione-lineare.html"><span class="header-section-number">28</span> Il modello statistico della regressione lineare</a></li>
<li><a class="" href="inferenza-bayesiana.html"><span class="header-section-number">29</span> Inferenza Bayesiana</a></li>
<li class="book-part">Informazioni generali</li>
<li><a class="" href="citazione.html">Citazione</a></li>
<li class="book-part">Appendici</li>
<li><a class="" href="un-piccolo-ripasso.html">Un piccolo ripasso</a></li>
<li><a class="" href="bibliografia.html">Bibliografia</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="chapter-strutture-dati" class="section level1" number="5">
<h1>
<span class="header-section-number">Capitolo 5</span> Strutture di dati<a class="anchor" aria-label="anchor" href="#chapter-strutture-dati"><i class="fas fa-link"></i></a>
</h1>
<p>Solitamente gli psicologi raccolgono grandi quantità di dati. Tali dati
vengono codificati in <code>R</code> all’interno di oggetti aventi proprietà
diverse. Intuitivamente, in <code>R</code> un oggetto è qualsiasi cosa a cui è
possibile assegnare un valore. I dati possono essere di tipo numerico o
alfanumerico. Di conseguenza, <code>R</code>distingue tra oggetti aventi <em>modi</em>
diversi. Inoltre, i dati possono essere organizzati in righe e colonne
in base a diversi tipi di strutture che <code>R</code> chiama <em>classi</em>.</p>
<div id="classi-e-modi-degli-oggetti" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Classi e modi degli oggetti<a class="anchor" aria-label="anchor" href="#classi-e-modi-degli-oggetti"><i class="fas fa-link"></i></a>
</h2>
<p>Gli oggetti <code>R</code> si distinguono a seconda della loro classe (<em>class</em>) e
del loro modo (<em>mode</em>). La classe definisce il tipo di oggetto. In <code>R</code>,
vengono utilizzate cinque strutture di dati che corrispondono a cinque
classi differenti: <code>vector</code>, <code>matrix</code>, <code>array</code>, <code>list</code> e <code>data.frame</code>.
Un’altra classe di oggetti <code>R</code> è <code>function</code> (ad essa appartengono le
funzioni).</p>
<p>La classe di appartenenza di un oggetto si stabilisce usando le funzioni
<code><a href="https://rdrr.io/r/base/class.html">class()</a></code>, oppure <code><a href="https://rdrr.io/r/base/list.html">is.list()</a></code>, <code><a href="https://rdrr.io/r/base/is.function.html">is.function()</a></code>, <code><a href="https://rdrr.io/r/base/logical.html">is.logical()</a></code>, e così
via. Queste funzioni restituisco <code>TRUE</code> e <code>FALSE</code> in base
all’appartenenza o meno dell’argomento a quella determinata classe.</p>
<p>Gli oggetti <code>R</code> possono anche essere classificati in base al loro ‘modo.’
I modi ‘atomici’ degli oggetti sono: <code>numeric</code>, <code>complex</code>, <code>character</code> e
<code>logical</code>. Per esempio,</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">9</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "numeric"</span>
<span class="va">cards</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"9 of clubs"</span>, <span class="st">"10 of hearts"</span>, <span class="st">"jack of hearts"</span><span class="op">)</span> 
<span class="fu"><a href="https://rdrr.io/r/base/mode.html">mode</a></span><span class="op">(</span><span class="va">cards</span><span class="op">)</span>
<span class="co">#&gt; [1] "character"</span></code></pre></div>
<p>Nel seguito verranno esaminate le cinque strutture di dati utilizzate da
<code>R</code>.</p>
</div>
<div id="vettori" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Vettori<a class="anchor" aria-label="anchor" href="#vettori"><i class="fas fa-link"></i></a>
</h2>
<p>I vettori sono la classe di oggetto più importante in <code>R</code>. Un vettore può
essere creato usando la funzione <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>:</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">6</span>, <span class="op">-</span><span class="fl">3</span>, <span class="fl">9</span><span class="op">)</span>
<span class="va">y</span>
<span class="co">#&gt; [1]  2  1  6 -3  9</span></code></pre></div>
<p>Le dimensioni di un vettore presente nella memoria di lavoro possono essere trovare con la funzione <code><a href="https://rdrr.io/r/base/length.html">length()</a></code>; ad esempio,</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; [1] 5</span></code></pre></div>
<p>ci dice che <code>y</code> è un vettore costituito da cinque elementi. La somma, il
minimo e il massimo degli elementi contenuti in un vettore si trovano
con le seguenti istruzioni:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; [1] 15</span>
<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; [1] -3</span>
<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; [1] 9</span></code></pre></div>
<p>Mentre ci sono sei ‘tipi’ di vettori ‘atomici’ in <code>R</code>, noi ci
focalizzeremo sui tipi seguenti: ‘numeric’ (‘integer’: <em>e.g.</em>, 5;
‘double’: <em>e.g.</em>, 5.5), ‘character’ (<em>e.g.</em>, ‘pippo’) e ‘logical’
(<em>e.g.</em>, <code>TRUE</code>, <code>FALSE</code>). Usiamo la funzione <code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code> per determinare
il ‘tipo’ di un vettore atomico. Tutti gli elementi di un vettore
atomico devono essere dello stesso tipo. La funzione <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> rende
visibile in maniera compatta la struttura interna di un oggetto.</p>
</div>
<div id="matrici" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Matrici<a class="anchor" aria-label="anchor" href="#matrici"><i class="fas fa-link"></i></a>
</h2>
<p>Una matrice è una collezione di vettori. Il comando per generare una
matrice è <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code>:</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, nrow <span class="op">=</span> <span class="fl">4</span>, byrow <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">X</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]    1    5    9   13   17</span>
<span class="co">#&gt; [2,]    2    6   10   14   18</span>
<span class="co">#&gt; [3,]    3    7   11   15   19</span>
<span class="co">#&gt; [4,]    4    8   12   16   20</span></code></pre></div>
<p>Il primo argomento è il vettore i cui elementi andranno a disporsi
all’interno della matrice. È poi necessario specificare le dimensioni
della matrice e il modo in cui <code>R</code> dovrà riempire la matrice. Date le
dimensioni del vettore, la specificazione del numero di righe (secondo
argomento) è sufficiente per determinare le dimensioni della matrice.
L’argomento <code>byrow = FALSE</code> è il default. In tal caso, <code>R</code> riempie la
matrice per colonne. Se vogliamo che <code>R</code> riempia la matrice per righe,
usiamo <code>byrow = TRUE</code>:</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>, nrow <span class="op">=</span> <span class="fl">4</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">Y</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]    1    2    3    4    5</span>
<span class="co">#&gt; [2,]    6    7    8    9   10</span>
<span class="co">#&gt; [3,]   11   12   13   14   15</span>
<span class="co">#&gt; [4,]   16   17   18   19   20</span></code></pre></div>
<p>Le dimensioni di una matrice presente nella memoria di lavoro possono
essere trovare con la funzione <code><a href="https://rdrr.io/r/base/dim.html">dim()</a></code>; ad esempio,</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">Y</span><span class="op">)</span>
<span class="co">#&gt; [1] 4 5</span></code></pre></div>
<p>ci dice che <code>Y</code> è una matrice con quattro righe e cinque colonne.</p>
</div>
<div id="array" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> Array<a class="anchor" aria-label="anchor" href="#array"><i class="fas fa-link"></i></a>
</h2>
<p>Un array è una collezione di matrici (si veda la
Figura <a href="#fig:R_data_structures" reference-type="ref" reference="fig:R_data_structures">1.1</a>). Per costruire un array con la
funzione <code><a href="https://rdrr.io/r/base/array.html">array()</a></code> è necessario specificare un vettore come primo
argomento e un vettore di dimensioni, chiamato <code>dim</code>, quale secondo
argomento:</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html">array</a></span><span class="op">(</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">14</span>, <span class="fl">21</span><span class="op">:</span><span class="fl">24</span>, <span class="fl">31</span><span class="op">:</span><span class="fl">34</span><span class="op">)</span>, 
  dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Un sottoinsieme di questi dati può essere selezionato, per esempio, nel
modo seguente:</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ar</span><span class="op">[</span>, , <span class="fl">3</span><span class="op">]</span>
<span class="co">#&gt;      [,1] [,2]</span>
<span class="co">#&gt; [1,]   31   33</span>
<span class="co">#&gt; [2,]   32   34</span></code></pre></div>
</div>
<div id="operazioni-aritmetiche-su-vettori-matrici-e-array" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> Operazioni aritmetiche su vettori, matrici e array<a class="anchor" aria-label="anchor" href="#operazioni-aritmetiche-su-vettori-matrici-e-array"><i class="fas fa-link"></i></a>
</h2>
<div id="operazioni-aritmetiche-su-vettori" class="section level3" number="5.5.1">
<h3>
<span class="header-section-number">5.5.1</span> Operazioni aritmetiche su vettori<a class="anchor" aria-label="anchor" href="#operazioni-aritmetiche-su-vettori"><i class="fas fa-link"></i></a>
</h3>
<p>I vettori e le matrici (o gli array) possono essere utilizzati in
espressioni aritmetiche. Il risultato è un vettore o una matrice (o un
array) formato dalle operazioni fatte elemento per elemento sui vettori
o sulle matrici. Ad esempio,</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">+</span> <span class="fl">3</span>
<span class="co">#&gt; [1]  5  4  9  0 12</span></code></pre></div>
<p>restituisce un vettore di dimensioni uguali alle dimensioni di <code>y</code>, i
cui elementi sono dati dalla somma tra ciascuno degli elementi originari
di <code>y</code> e la costante “3.”</p>
<p>Ovviamente, ad un vettore possono essere applicate tutte le altre
operazioni algebriche, sempre elemento per elemento. Ad esempio,</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">3</span> <span class="op">*</span> <span class="va">y</span>
<span class="co">#&gt; [1]  6  3 18 -9 27</span></code></pre></div>
<p>restituisce un vettore i cui elementi sono uguali agli elementi di <code>y</code>
moltiplicati per 3.</p>
<p>Se sono costituiti dallo stesso numero di elementi, due vettori possono
essere sommati, sottratti, moltiplicati e divisi, laddove queste
operazioni algebriche vengono eseguite elemento per elemento. Per
esempio,</p>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">6</span>, <span class="fl">3</span>, <span class="fl">9</span><span class="op">)</span>
<span class="va">x</span> <span class="op">+</span> <span class="va">y</span>
<span class="co">#&gt; [1]  3  2  8  4 12</span>
<span class="va">x</span> <span class="op">-</span> <span class="va">y</span>
<span class="co">#&gt; [1] -1  0 -4 -2 -6</span>
<span class="va">x</span> <span class="op">*</span> <span class="va">y</span>
<span class="co">#&gt; [1]  2  1 12  3 27</span>
<span class="va">x</span> <span class="op">/</span> <span class="va">y</span>
<span class="co">#&gt; [1] 0.5000000 1.0000000 0.3333333 0.3333333 0.3333333</span></code></pre></div>
</div>
<div id="operazioni-aritmetiche-su-matrici" class="section level3" number="5.5.2">
<h3>
<span class="header-section-number">5.5.2</span> Operazioni aritmetiche su matrici<a class="anchor" aria-label="anchor" href="#operazioni-aritmetiche-su-matrici"><i class="fas fa-link"></i></a>
</h3>
<p>Le operazioni algebriche elemento per elemento si possono estendere al
caso delle matrici. Per esempio, se <code>X</code>, <code>Y</code> sono entrambe matrici di
dimensioni <span class="math inline">\(4 \times 5\)</span>, allora la seguente operazione</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">M</span> <span class="op">&lt;-</span> <span class="fl">2</span> <span class="op">*</span> <span class="op">(</span><span class="va">X</span> <span class="op">+</span> <span class="va">Y</span><span class="op">)</span> <span class="op">-</span> <span class="fl">3</span> </code></pre></div>
<p>crea una matrice <code>D</code> anch’essa di dimensioni <span class="math inline">\(4 \times 5\)</span> i cui elementi
sono ottenuti dalle operazioni fatte elemento per elemento sulle matrici
e sugli scalari:</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">M</span>
<span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span>
<span class="co">#&gt; [1,]    1   11   21   31   41</span>
<span class="co">#&gt; [2,]   13   23   33   43   53</span>
<span class="co">#&gt; [3,]   25   35   45   55   65</span>
<span class="co">#&gt; [4,]   37   47   57   67   77</span></code></pre></div>
</div>
<div id="operazioni-aritmetiche-su-array" class="section level3" number="5.5.3">
<h3>
<span class="header-section-number">5.5.3</span> Operazioni aritmetiche su array<a class="anchor" aria-label="anchor" href="#operazioni-aritmetiche-su-array"><i class="fas fa-link"></i></a>
</h3>
<p>Le stesse considerazioni si estendono al caso degli array.</p>
</div>
</div>
<div id="liste" class="section level2" number="5.6">
<h2>
<span class="header-section-number">5.6</span> Liste<a class="anchor" aria-label="anchor" href="#liste"><i class="fas fa-link"></i></a>
</h2>
<p>Le liste assomigliano ai vettori perché raggruppano i dati in un insieme
unidimensionale. Tuttavia, le liste non raggruppano elementi individuali
ma bensì oggetti di <code>R</code>, quali vettori e altre liste. Per esempio,</p>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">list1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"R"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, <span class="fl">20</span><span class="op">:</span><span class="fl">24</span><span class="op">)</span>
<span class="va">list1</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "R"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [[2]][[1]]</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]][[2]]</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] 20 21 22 23 24</span></code></pre></div>
<p>Le doppie parentesi quadre identificano l’elemento della lista a cui
vogliamo fare riferimento. Per esempio,</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">list1</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span>
<span class="co">#&gt; [1] 20 21 22 23 24</span>
<span class="va">list1</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>
<span class="co">#&gt; [1] 21</span></code></pre></div>
</div>
<div id="data-frame" class="section level2" number="5.7">
<h2>
<span class="header-section-number">5.7</span> Data frame<a class="anchor" aria-label="anchor" href="#data-frame"><i class="fas fa-link"></i></a>
</h2>
<p>I data.frame sono strutture tipo matrice, in cui le colonne possono
essere vettori di tipi differenti. La funzione usata per generare un
data frame è <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>, che permette di unire più vettori di uguale
lunghezza come colonne del data frame, ognuno dei quali si riferisce ad
una diversa variabile. Ad esempio,</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  face <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"ace"</span>, <span class="st">"two"</span>, <span class="st">"six"</span><span class="op">)</span>,
  suit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"clubs"</span>, <span class="st">"clubs"</span>, <span class="st">"clubs"</span><span class="op">)</span>, 
  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>
<span class="op">)</span>
<span class="va">df</span>
<span class="co">#&gt;   face  suit value</span>
<span class="co">#&gt; 1  ace clubs     1</span>
<span class="co">#&gt; 2  two clubs     2</span>
<span class="co">#&gt; 3  six clubs     3</span></code></pre></div>
<p>L’estrazione di dati da un data.frame può essere effettuata in maniera
simile a quanto avviene per i vettori. Ad esempio, per estrarre la
variabile <code>value</code> dal data.frame <code>df</code> si può indicare l’indice della
terza colonna:</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span><span class="op">[</span>, <span class="fl">3</span><span class="op">]</span>
<span class="co">#&gt; [1] 1 2 3</span></code></pre></div>
<p>Dal momento che le colonne sono delle variabili, è possibile estrarle
anche indicando nome della variabile, scrivendo
<code>nome_data_frame$nome_variabile</code>:</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span><span class="op">$</span><span class="va">value</span>
<span class="co">#&gt; [1] 1 2 3</span></code></pre></div>
<p>Per fare un esempio, creiamo un data.frame che contenga tutte le informazioni di un mazzo di carte da poker <span class="citation">(<a href="bibliografia.html#ref-grolemund2014hands" role="doc-biblioref">Grolemund, 2014</a>)</span>. In tale data.frame, ciascuna riga
corrisponde ad una carta – in un mazzo da poker ci sono 52 carte,
perciò il data.frame avrà 52 righe. Il vettore <code>face</code> indica con una
stringa di caratteri il valore di ciascuna carta, il vettore <code>suit</code>
indica il seme e il vettore <code>value</code> indica con un numero intero il
valore di ciascuna carta. Quindi, il data.frame avrà 3 colonne.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  face <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"king"</span>, <span class="st">"queen"</span>, <span class="st">"jack"</span>, <span class="st">"ten"</span>, <span class="st">"nine"</span>, <span class="st">"eight"</span>,
  <span class="st">"seven"</span>, <span class="st">"six"</span>, <span class="st">"five"</span>, <span class="st">"four"</span>, <span class="st">"three"</span>, <span class="st">"two"</span>, <span class="st">"ace"</span>, 
  <span class="st">"king"</span>, <span class="st">"queen"</span>, <span class="st">"jack"</span>, <span class="st">"ten"</span>, <span class="st">"nine"</span>, <span class="st">"eight"</span>, <span class="st">"seven"</span>, 
  <span class="st">"six"</span>, <span class="st">"five"</span>, <span class="st">"four"</span>, <span class="st">"three"</span>, <span class="st">"two"</span>, <span class="st">"ace"</span>, <span class="st">"king"</span>, 
  <span class="st">"queen"</span>, <span class="st">"jack"</span>, <span class="st">"ten"</span>, <span class="st">"nine"</span>, <span class="st">"eight"</span>, <span class="st">"seven"</span>, <span class="st">"six"</span>, 
  <span class="st">"five"</span>, <span class="st">"four"</span>, <span class="st">"three"</span>, <span class="st">"two"</span>, <span class="st">"ace"</span>, <span class="st">"king"</span>, <span class="st">"queen"</span>, 
  <span class="st">"jack"</span>, <span class="st">"ten"</span>, <span class="st">"nine"</span>, <span class="st">"eight"</span>, <span class="st">"seven"</span>, <span class="st">"six"</span>, <span class="st">"five"</span>, 
  <span class="st">"four"</span>, <span class="st">"three"</span>, <span class="st">"two"</span>, <span class="st">"ace"</span><span class="op">)</span>, 
  suit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"spades"</span>, <span class="st">"spades"</span>, <span class="st">"spades"</span>, <span class="st">"spades"</span>, 
  <span class="st">"spades"</span>, <span class="st">"spades"</span>, <span class="st">"spades"</span>, <span class="st">"spades"</span>, <span class="st">"spades"</span>, 
  <span class="st">"spades"</span>, <span class="st">"spades"</span>, <span class="st">"spades"</span>, <span class="st">"spades"</span>, <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, 
  <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, 
  <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, <span class="st">"clubs"</span>, <span class="st">"diamonds"</span>, 
  <span class="st">"diamonds"</span>, <span class="st">"diamonds"</span>, <span class="st">"diamonds"</span>, <span class="st">"diamonds"</span>, 
  <span class="st">"diamonds"</span>, <span class="st">"diamonds"</span>, <span class="st">"diamonds"</span>, <span class="st">"diamonds"</span>, 
  <span class="st">"diamonds"</span>, <span class="st">"diamonds"</span>, <span class="st">"diamonds"</span>, <span class="st">"diamonds"</span>, <span class="st">"hearts"</span>, 
  <span class="st">"hearts"</span>, <span class="st">"hearts"</span>, <span class="st">"hearts"</span>, <span class="st">"hearts"</span>, <span class="st">"hearts"</span>, 
  <span class="st">"hearts"</span>, <span class="st">"hearts"</span>, <span class="st">"hearts"</span>, <span class="st">"hearts"</span>, <span class="st">"hearts"</span>, 
  <span class="st">"hearts"</span>, <span class="st">"hearts"</span><span class="op">)</span>, 
  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">13</span>, <span class="fl">12</span>, <span class="fl">11</span>, <span class="fl">10</span>, <span class="fl">9</span>, <span class="fl">8</span>, <span class="fl">7</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">13</span>, <span class="fl">12</span>, <span class="fl">11</span>, <span class="fl">10</span>, <span class="fl">9</span>, <span class="fl">8</span>, <span class="fl">7</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">13</span>, <span class="fl">12</span>, <span class="fl">11</span>, <span class="fl">10</span>, <span class="fl">9</span>, <span class="fl">8</span>, <span class="fl">7</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">13</span>, <span class="fl">12</span>, <span class="fl">11</span>, <span class="fl">10</span>, <span class="fl">9</span>, <span class="fl">8</span>, <span class="fl">7</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>Avendo salvato tutte queste informazioni nell’oggetto <code>deck</code>, possiamo
stamparle sullo schermo semplicemente digitando il nome dell’oggetto che
le contiene:</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span>
<span class="co">#&gt;     face     suit value</span>
<span class="co">#&gt; 1   king   spades    13</span>
<span class="co">#&gt; 2  queen   spades    12</span>
<span class="co">#&gt; 3   jack   spades    11</span>
<span class="co">#&gt; 4    ten   spades    10</span>
<span class="co">#&gt; 5   nine   spades     9</span>
<span class="co">#&gt; 6  eight   spades     8</span>
<span class="co">#&gt; 7  seven   spades     7</span>
<span class="co">#&gt; 8    six   spades     6</span>
<span class="co">#&gt; 9   five   spades     5</span>
<span class="co">#&gt; 10  four   spades     4</span>
<span class="co">#&gt; 11 three   spades     3</span>
<span class="co">#&gt; 12   two   spades     2</span>
<span class="co">#&gt; 13   ace   spades     1</span>
<span class="co">#&gt; 14  king    clubs    13</span>
<span class="co">#&gt; 15 queen    clubs    12</span>
<span class="co">#&gt; 16  jack    clubs    11</span>
<span class="co">#&gt; 17   ten    clubs    10</span>
<span class="co">#&gt; 18  nine    clubs     9</span>
<span class="co">#&gt; 19 eight    clubs     8</span>
<span class="co">#&gt; 20 seven    clubs     7</span>
<span class="co">#&gt; 21   six    clubs     6</span>
<span class="co">#&gt; 22  five    clubs     5</span>
<span class="co">#&gt; 23  four    clubs     4</span>
<span class="co">#&gt; 24 three    clubs     3</span>
<span class="co">#&gt; 25   two    clubs     2</span>
<span class="co">#&gt; 26   ace    clubs     1</span>
<span class="co">#&gt; 27  king diamonds    13</span>
<span class="co">#&gt; 28 queen diamonds    12</span>
<span class="co">#&gt; 29  jack diamonds    11</span>
<span class="co">#&gt; 30   ten diamonds    10</span>
<span class="co">#&gt; 31  nine diamonds     9</span>
<span class="co">#&gt; 32 eight diamonds     8</span>
<span class="co">#&gt; 33 seven diamonds     7</span>
<span class="co">#&gt; 34   six diamonds     6</span>
<span class="co">#&gt; 35  five diamonds     5</span>
<span class="co">#&gt; 36  four diamonds     4</span>
<span class="co">#&gt; 37 three diamonds     3</span>
<span class="co">#&gt; 38   two diamonds     2</span>
<span class="co">#&gt; 39   ace diamonds     1</span>
<span class="co">#&gt; 40  king   hearts    13</span>
<span class="co">#&gt; 41 queen   hearts    12</span>
<span class="co">#&gt; 42  jack   hearts    11</span>
<span class="co">#&gt; 43   ten   hearts    10</span>
<span class="co">#&gt; 44  nine   hearts     9</span>
<span class="co">#&gt; 45 eight   hearts     8</span>
<span class="co">#&gt; 46 seven   hearts     7</span>
<span class="co">#&gt; 47   six   hearts     6</span>
<span class="co">#&gt; 48  five   hearts     5</span>
<span class="co">#&gt; 49  four   hearts     4</span>
<span class="co">#&gt; 50 three   hearts     3</span>
<span class="co">#&gt; 51   two   hearts     2</span>
<span class="co">#&gt; 52   ace   hearts     1</span></code></pre></div>
<p>Si noti che, a schermo, <code>R</code> stampa un numero progressivo che corrisponde
al numero della riga.</p>
</div>
<div id="selezione-di-elementi" class="section level2" number="5.8">
<h2>
<span class="header-section-number">5.8</span> Selezione di elementi<a class="anchor" aria-label="anchor" href="#selezione-di-elementi"><i class="fas fa-link"></i></a>
</h2>
<p>Una volta creato un data.frame, ad esempio quello che contiene un mazzo
virtuale di carte (si veda
l’esempio <a href="#exmp:deck_of_cards" reference-type="ref" reference="exmp:deck_of_cards"><span class="math display">\[exmp:deck_of_cards\]</span></a>), è necessario sapere come manipolarlo.
La funzione <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> mostra le prime sei righe del data.frame:</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">deck</span><span class="op">)</span>
<span class="co">#&gt;    face   suit value</span>
<span class="co">#&gt; 1  king spades    13</span>
<span class="co">#&gt; 2 queen spades    12</span>
<span class="co">#&gt; 3  jack spades    11</span>
<span class="co">#&gt; 4   ten spades    10</span>
<span class="co">#&gt; 5  nine spades     9</span>
<span class="co">#&gt; 6 eight spades     8</span></code></pre></div>
<p>Poniamoci ora il problema di mescolare il mazzo di carte e di estrarre
alcune carte dal mazzo. Queste operazioni possono essere eseguite usando
il sistema notazionale di <code>R</code>.</p>
<p>Il sistema di notazione di <code>R</code> consente di estrarre singoli elementi
dagli oggetti definiti da <code>R</code>. Per estrarre un valore da un data.frame,
per esempio, dobbiamo scrivere il nome del data.frame seguito da una
coppia di parentesi quadre:</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span>, <span class="op">]</span></code></pre></div>
<p>All’interno delle parentesi quadre ci sono due indici separati da una
virgola. <code>R</code> usa il primo indice per selezionare un sottoinsieme di righe
del data.frame e il secondo indice per selezionare un sottoinsieme di
colonne. L’indice è il numero d’ordine che etichetta progressivamente ognuno dei valori del vettore. Per esempio,</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span><span class="fl">9</span>, <span class="fl">2</span><span class="op">]</span>
<span class="co">#&gt; [1] spades</span>
<span class="co">#&gt; Levels: clubs diamonds hearts spades</span></code></pre></div>
<p>restituisce l’elemento che si trova nella nella nona riga della seconda
colonna di <code>deck</code>.</p>
<p>In <code>R</code> ci sono sei modi diversi per specificare gli indici di un oggetto:
interi positivi, interi negativi, zero, spazi vuoti, valori logici e
nomi. Esaminiamoli qui di seguito.</p>
<div id="interi-positivi" class="section level4" number="5.8.0.1">
<h4>
<span class="header-section-number">5.8.0.1</span> Interi positivi<a class="anchor" aria-label="anchor" href="#interi-positivi"><i class="fas fa-link"></i></a>
</h4>
<p>Gli indici <span class="math inline">\(i, j\)</span> possono essere degli interi positivi che identificano
l’elemento nella <span class="math inline">\(i\)</span>-esima riga e nella <span class="math inline">\(j\)</span>-esima colonna del
data.frame. Per l’esempio relativo al mazzo di carte, l’istruzione</p>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">]</span>
<span class="co">#&gt; [1] king</span>
<span class="co">#&gt; Levels: ace eight five four jack king nine queen seven six ten three two</span></code></pre></div>
<p>ritorna il valore nella prima riga e nella prima colonna. Per estrarre
più di un valore, usiamo un vettore di interi positivi. Per esempio, la
prima riga di <code>deck</code> si trova con</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;   face   suit value</span>
<span class="co">#&gt; 1 king spades    13</span></code></pre></div>
<p>Tale sistema notazionale non si applica solo ai data.frame ma può essere
usato anche per gli altri oggetti di <code>R</code>.</p>
<p>L’indice usato da <code>R</code> inizia da 1. In altri linguaggi di programmazione,
per esempio <code>C</code>, inizia da 0.</p>
</div>
<div id="interi-negativi" class="section level4" number="5.8.0.2">
<h4>
<span class="header-section-number">5.8.0.2</span> Interi negativi<a class="anchor" aria-label="anchor" href="#interi-negativi"><i class="fas fa-link"></i></a>
</h4>
<p>Gli interi negativi fanno l’esatto contrario degli interi positivi: R
ritornerà tutti gli elementi tranne quelli specificati dagli interi
negativi. Per esempio, la prima riga del data.frame può essere
specificata nel modo seguente</p>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span><span class="op">-</span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">52</span><span class="op">)</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>
<span class="co">#&gt;   face   suit value</span>
<span class="co">#&gt; 1 king spades    13</span></code></pre></div>
<p>ovvero, escludendo tutte le righe seguenti.</p>
</div>
<div id="zero" class="section level3" number="5.8.1">
<h3>
<span class="header-section-number">5.8.1</span> Zero<a class="anchor" aria-label="anchor" href="#zero"><i class="fas fa-link"></i></a>
</h3>
<p>Quando lo zero viene usato come indice, <code>R</code> non ritorna nulla dalla
dimensione a cui lo zero si riferisce. L’istruzione</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">]</span>
<span class="co">#&gt; data frame with 0 columns and 0 rows</span></code></pre></div>
<p>ritorna un data.frame vuoto. Non molto utile.</p>
</div>
<div id="spazio" class="section level3" number="5.8.2">
<h3>
<span class="header-section-number">5.8.2</span> Spazio <code>’ ’</code><a class="anchor" aria-label="anchor" href="#spazio"><i class="fas fa-link"></i></a>
</h3>
<p>Uno spazio viene usato quale indice per comunicare a <code>R</code> di estrarre
tutti i valori in quella dimensione. Questo è utile per estrarre intere
colonne o intere righe da un data.frame. Per esempio, l’istruzione</p>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span>
<span class="co">#&gt;   face   suit value</span>
<span class="co">#&gt; 3 jack spades    11</span></code></pre></div>
<p>ritorna la terza riga del data.frame <code>deck</code>.</p>
</div>
<div id="valori-booleani" class="section level3" number="5.8.3">
<h3>
<span class="header-section-number">5.8.3</span> Valori booleani<a class="anchor" aria-label="anchor" href="#valori-booleani"><i class="fas fa-link"></i></a>
</h3>
<p>Se viene fornito un vettore di stringhe <code>TRUE</code>, <code>FALSE</code>, <code>R</code> selezionerà
gli elementi riga o colonna corrispondenti ai valori booleani <code>TRUE</code>
usati quali indici. Per esempio, l’istruzione</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;   face   suit</span>
<span class="co">#&gt; 3 jack spades</span></code></pre></div>
<p>ritorna i valori delle prime due colonne della terza riga di <code>deck</code>.</p>
</div>
<div id="nomi" class="section level3" number="5.8.4">
<h3>
<span class="header-section-number">5.8.4</span> Nomi<a class="anchor" aria-label="anchor" href="#nomi"><i class="fas fa-link"></i></a>
</h3>
<p>È possibile selezionare gli elementi del data.frame usando i loro nomi.
Per esempio,</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"face"</span>, <span class="st">"suit"</span>, <span class="st">"value"</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;   face   suit value</span>
<span class="co">#&gt; 1 king spades    13</span>
<span class="va">deck</span><span class="op">[</span>, <span class="st">"value"</span><span class="op">]</span>
<span class="co">#&gt;  [1] 13 12 11 10  9  8  7  6  5  4  3  2  1 13 12 11 10  9  8  7  6  5  4  3  2  1 13 12 11 10  9</span>
<span class="co">#&gt; [32]  8  7  6  5  4  3  2  1 13 12 11 10  9  8  7  6  5  4  3  2  1</span></code></pre></div>
</div>
</div>
<div id="giochi-di-carte" class="section level2" number="5.9">
<h2>
<span class="header-section-number">5.9</span> Giochi di carte<a class="anchor" aria-label="anchor" href="#giochi-di-carte"><i class="fas fa-link"></i></a>
</h2>
<p>Avendo presentato le nozioni base del sistema di notazione di <code>R</code>,
utilizziamo tali conoscenze per manipolare il data.frame. L’istruzione</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">52</span>, <span class="op">]</span></code></pre></div>
<p>ritorna tutte le righe e tutte e le colonne del data.frame <code>deck</code>. Le
righe sono identificate dal primo indice, che va da 1 a 52. Permutare in
modo casuale l’indice delle righe equivale a mescolare il mazzo di
carte. Per fare questo, utilizziamo la funzione <code><a href="https://rdrr.io/r/base/sample.html">sample()</a></code> ponendo <code>replace=FALSE</code> e <code>size</code>
uguale alla dimensione del vettore che contiene gli indici da 1 a 52:</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">random</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">52</span>, size <span class="op">=</span> <span class="fl">52</span>, replace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">random</span>
<span class="co">#&gt;  [1] 45 23 12 37 38 47 31  4 48  9  5 42 24 15 13  2 41 21 34  6 46 32 52 16 49  3 25 22 11  7 35</span>
<span class="co">#&gt; [32] 33 43 10 28 17 30  8 26  1 14 18 27 44 20 51 40 36 29 39 50 19</span></code></pre></div>
<p>Utilizzando il vettore <code>random</code> di indici permutati otteniamo il
risultato cercato:</p>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck_shuffled</span> <span class="op">&lt;-</span> <span class="va">deck</span><span class="op">[</span><span class="va">random</span>, <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">deck_shuffled</span><span class="op">)</span>
<span class="co">#&gt;     face     suit value</span>
<span class="co">#&gt; 45 eight   hearts     8</span>
<span class="co">#&gt; 23  four    clubs     4</span>
<span class="co">#&gt; 12   two   spades     2</span>
<span class="co">#&gt; 37 three diamonds     3</span>
<span class="co">#&gt; 38   two diamonds     2</span>
<span class="co">#&gt; 47   six   hearts     6</span></code></pre></div>
<p>Possiamo ora scrivere una funzione che include le precedenti istruzioni:</p>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">shuffle</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">cards</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">random</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">52</span>, size <span class="op">=</span> <span class="fl">52</span>, replace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> 
  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">cards</span><span class="op">[</span><span class="va">random</span>, <span class="op">]</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>Invocando la funzione <code>shuffle()</code> possiamo generare un data.frame che
rappresenta un mazzo di carte mescolato:</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck_shuffled</span> <span class="op">&lt;-</span> <span class="fu">shuffle</span><span class="op">(</span><span class="va">deck</span><span class="op">)</span></code></pre></div>
<p>Se immaginiamo di distribuire le carte di questo mazzo a due giocatori
di poker, per il primo giocatore avremo:</p>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck_shuffled</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span><span class="op">)</span>, <span class="op">]</span>
<span class="co">#&gt;     face     suit value</span>
<span class="co">#&gt; 19 eight    clubs     8</span>
<span class="co">#&gt; 51   two   hearts     2</span>
<span class="co">#&gt; 11 three   spades     3</span>
<span class="co">#&gt; 35  five diamonds     5</span>
<span class="co">#&gt; 23  four    clubs     4</span></code></pre></div>
<p>e per il secondo:</p>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">deck_shuffled</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span>, <span class="fl">10</span><span class="op">)</span>, <span class="op">]</span>
<span class="co">#&gt;     face     suit value</span>
<span class="co">#&gt; 28 queen diamonds    12</span>
<span class="co">#&gt; 48  five   hearts     5</span>
<span class="co">#&gt; 26   ace    clubs     1</span>
<span class="co">#&gt; 2  queen   spades    12</span>
<span class="co">#&gt; 42  jack   hearts    11</span></code></pre></div>
<div id="variabili-locali" class="section level3" number="5.9.1">
<h3>
<span class="header-section-number">5.9.1</span> Variabili locali<a class="anchor" aria-label="anchor" href="#variabili-locali"><i class="fas fa-link"></i></a>
</h3>
<p>Si noti che, nell’esempio precedente, abbiamo passato l’argomento <code>deck</code>
alla funzione <code>shuffle()</code>, perché questo è il nome del data.frame che
volevamo manipolare. Nella definizione della funzione <code>shuffle()</code>, però,
l’argomento della funzione era chiamato <code>cards</code>. Il nome degli argomenti
è diverso nei due casi. Allora perché l’istruzione <code>shuffle(deck)</code> non
dà un messaggio d’errore?</p>
<p>La risposta a questa domanda è che nelle funzioni le variabili nascono
quando la funzione entra in esecuzione e muoiono al termine
dell’esecuzione della funzione. Per questa ragione, sono dette ‘locali.’
La variabile <code>cards</code>, in questo esempio, esiste soltanto all’interno
della funzione. Dunque non deve (necessariamente) avere lo stesso nome
di un altro oggetto che esiste al di fuori della funzione, nello spazio
di lavoro di R (anzi, è meglio se il nome degli oggetti usati
all’interno delle funzioni è diverso da quello degli oggetti che
esistono fuori dalle funzioni). R sa che l’oggetto <code>deck</code> passato a
<code>shuffle()</code> corrisponde a <code>cards</code> all’interno della funzione perché
assegna il nome <code>cards</code> a qualunque oggetto venga passato alla funzione
<code>shuffle()</code> come primo (e, in questo caso, unico) argomento.</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="chapter-sintassi.html"><span class="header-section-number">4</span> Sintassi di base</a></div>
<div class="next"><a href="chapter-strut-contr.html"><span class="header-section-number">6</span> Strutture di controllo</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#chapter-strutture-dati"><span class="header-section-number">5</span> Strutture di dati</a></li>
<li><a class="nav-link" href="#classi-e-modi-degli-oggetti"><span class="header-section-number">5.1</span> Classi e modi degli oggetti</a></li>
<li><a class="nav-link" href="#vettori"><span class="header-section-number">5.2</span> Vettori</a></li>
<li><a class="nav-link" href="#matrici"><span class="header-section-number">5.3</span> Matrici</a></li>
<li><a class="nav-link" href="#array"><span class="header-section-number">5.4</span> Array</a></li>
<li>
<a class="nav-link" href="#operazioni-aritmetiche-su-vettori-matrici-e-array"><span class="header-section-number">5.5</span> Operazioni aritmetiche su vettori, matrici e array</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#operazioni-aritmetiche-su-vettori"><span class="header-section-number">5.5.1</span> Operazioni aritmetiche su vettori</a></li>
<li><a class="nav-link" href="#operazioni-aritmetiche-su-matrici"><span class="header-section-number">5.5.2</span> Operazioni aritmetiche su matrici</a></li>
<li><a class="nav-link" href="#operazioni-aritmetiche-su-array"><span class="header-section-number">5.5.3</span> Operazioni aritmetiche su array</a></li>
</ul>
</li>
<li><a class="nav-link" href="#liste"><span class="header-section-number">5.6</span> Liste</a></li>
<li><a class="nav-link" href="#data-frame"><span class="header-section-number">5.7</span> Data frame</a></li>
<li>
<a class="nav-link" href="#selezione-di-elementi"><span class="header-section-number">5.8</span> Selezione di elementi</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#zero"><span class="header-section-number">5.8.1</span> Zero</a></li>
<li><a class="nav-link" href="#spazio"><span class="header-section-number">5.8.2</span> Spazio ’ ’</a></li>
<li><a class="nav-link" href="#valori-booleani"><span class="header-section-number">5.8.3</span> Valori booleani</a></li>
<li><a class="nav-link" href="#nomi"><span class="header-section-number">5.8.4</span> Nomi</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#giochi-di-carte"><span class="header-section-number">5.9</span> Giochi di carte</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#variabili-locali"><span class="header-section-number">5.9.1</span> Variabili locali</a></li></ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Data Science per psicologi</strong>" was written by Corrado Caudek. It was last built on 2021-04-28 07:30:40.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
