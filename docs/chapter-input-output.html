<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capitolo 7 Input/Output | Data Science per psicologi</title>
<meta name="author" content="Corrado Caudek">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Data Science per psicologi</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Benvenuti</a></li>
<li class="book-part">Obiettivi formativi</li>
<li><a class="" href="conoscenza-dichiarativa-e-imperativa.html"><span class="header-section-number">1</span> Conoscenza dichiarativa e imperativa</a></li>
<li class="book-part">Introduzione al linguaggio R</li>
<li><a class="" href="introduzione.html">Introduzione</a></li>
<li><a class="" href="chapter-pacchetti.html"><span class="header-section-number">2</span> Pacchetti</a></li>
<li><a class="" href="chapter-install-r.html"><span class="header-section-number">3</span> Per cominciare</a></li>
<li><a class="" href="chapter-sintassi.html"><span class="header-section-number">4</span> Sintassi di base</a></li>
<li><a class="" href="chapter-strutture-dati.html"><span class="header-section-number">5</span> Strutture di dati</a></li>
<li><a class="" href="chapter-strut-contr.html"><span class="header-section-number">6</span> Strutture di controllo</a></li>
<li><a class="active" href="chapter-input-output.html"><span class="header-section-number">7</span> Input/Output</a></li>
<li><a class="" href="manipolazione-dei-dati.html"><span class="header-section-number">8</span> Manipolazione dei dati</a></li>
<li><a class="" href="flusso-di-lavoro-riproducibile.html"><span class="header-section-number">9</span> Flusso di lavoro riproducibile</a></li>
<li class="book-part">Statistica descrittiva ed analisi esplorativa dei dat̀i</li>
<li><a class="" href="introduzione-1.html">Introduzione</a></li>
<li><a class="" href="terminologia.html"><span class="header-section-number">10</span> Terminologia</a></li>
<li><a class="" href="chapter-misurazione.html"><span class="header-section-number">11</span> La misurazione in psicologia</a></li>
<li><a class="" href="chapter-descript.html"><span class="header-section-number">12</span> Statistica descrittiva</a></li>
<li class="book-part">Nozioni di base</li>
<li><a class="" href="introduzione-2.html">Introduzione</a></li>
<li><a class="" href="il-calcolo-delle-probabilit%C3%A0.html"><span class="header-section-number">13</span> Il calcolo delle probabilità</a></li>
<li><a class="" href="chapter-prob-cond.html"><span class="header-section-number">14</span> Probabilità condizionata</a></li>
<li><a class="" href="chapter-teo-bayes.html"><span class="header-section-number">15</span> Il teorema di Bayes</a></li>
<li><a class="" href="chapter-prob-congiunta.html"><span class="header-section-number">16</span> Probabilità congiunta</a></li>
<li><a class="" href="la-distribuzione-binomiale.html"><span class="header-section-number">17</span> La distribuzione binomiale</a></li>
<li><a class="" href="funzioni-di-densit%C3%A0-di-probabilit%C3%A0.html"><span class="header-section-number">18</span> Funzioni di densità di probabilità</a></li>
<li><a class="" href="la-funzione-di-verosimiglianza.html"><span class="header-section-number">19</span> La funzione di verosimiglianza</a></li>
<li class="book-part">Inferenza frequentista</li>
<li><a class="" href="introduzione-3.html">Introduzione</a></li>
<li><a class="" href="distribuzione-campionaria.html"><span class="header-section-number">20</span> Distribuzione campionaria</a></li>
<li><a class="" href="significativit%C3%A0-statistica.html"><span class="header-section-number">21</span> Significatività statistica</a></li>
<li><a class="" href="inferenza-sulle-medie.html"><span class="header-section-number">22</span> Inferenza sulle medie</a></li>
<li><a class="" href="critiche-e-difese.html"><span class="header-section-number">23</span> Critiche e difese</a></li>
<li class="book-part">Inferenza Bayesiana</li>
<li><a class="" href="introduzione-4.html">Introduzione</a></li>
<li><a class="" href="modellistica-bayesiana.html"><span class="header-section-number">24</span> Modellistica Bayesiana</a></li>
<li><a class="" href="stima-della-funzione-a-posteriori.html"><span class="header-section-number">25</span> Stima della funzione a posteriori</a></li>
<li><a class="" href="sintesi-a-posteriori.html"><span class="header-section-number">26</span> Sintesi a posteriori</a></li>
<li><a class="" href="una-breve-introduzione-al-modello-di-regressione.html"><span class="header-section-number">27</span> Una breve introduzione al modello di regressione</a></li>
<li><a class="" href="il-modello-statistico-della-regressione-lineare.html"><span class="header-section-number">28</span> Il modello statistico della regressione lineare</a></li>
<li><a class="" href="inferenza-bayesiana.html"><span class="header-section-number">29</span> Inferenza Bayesiana</a></li>
<li class="book-part">Informazioni generali</li>
<li><a class="" href="citazione.html">Citazione</a></li>
<li class="book-part">Appendici</li>
<li><a class="" href="un-piccolo-ripasso.html">Un piccolo ripasso</a></li>
<li><a class="" href="bibliografia.html">Bibliografia</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="chapter-input-output" class="section level1" number="7">
<h1>
<span class="header-section-number">Capitolo 7</span> Input/Output<a class="anchor" aria-label="anchor" href="#chapter-input-output"><i class="fas fa-link"></i></a>
</h1>
<p>I dati raccolti dallo psicologo sono contenuti in file aventi formati
diversi: solo testo, CSV, Excel, eccetera. <code>R</code> prevede diverse funzioni
di importazione dei dati. Esamineremo qui la funzione <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> per
l’importazione di dati in formato solo testo, ma funzioni analoghe
possono essere usate per molti altri formati possibili.</p>
<div id="la-funzione-read.table" class="section level2" number="7.1">
<h2>
<span class="header-section-number">7.1</span> La funzione <code>read.table()</code><a class="anchor" aria-label="anchor" href="#la-funzione-read.table"><i class="fas fa-link"></i></a>
</h2>
<p>Ci sono tanti modi per importare un file dal nostro computer. <code>R</code> permette di utilizzare delle funzioni che sono già nella libreria di base, oppure possiamo utilizzare delle funzioni specifiche, a seconda del tipo di file da importare, che sono contenute in pacchetti aggiuntivi. Per leggere i dati da file in <code>R</code> è conveniente
preliminarmente generare un file di dati in formato ASCII, disponendoli
come si farebbe in una matrice di dati, e mettere questo file nella
cartella di lavoro corrente. Fatto questo, si può utilizzare la funzione
<code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> presente nella libreria di base per leggere l’intero
dataset. Se la prima riga del file contiene l’intestazione delle
variabili, allora <code><a href="https://rdrr.io/r/utils/read.table.html">read.table("my_file.txt", header = TRUE)</a></code>
interpreterà la prima riga del file come una riga dove sono contenuti i
nomi delle variabili, assegnando ciascun nome alle variabili del data
frame:</p>
<pre><code>mydata &lt;- read.table("my_file.txt", header = TRUE)</code></pre>
<p>In alternativa, si può impiegare la funzione <code><a href="https://rdrr.io/r/utils/read.table.html">read.csv()</a></code>, che è adatta
a leggere dati salvati in <code>.csv</code>. Utilizzando altre funzioni, si possono
leggere in R  i dati contenuti in file aventi formati diversi da quelli
considerati qui, quali Excel, SPSS, ecc.</p>
</div>
<div id="file-di-dati-forniti-da-r" class="section level2" number="7.2">
<h2>
<span class="header-section-number">7.2</span> File di dati forniti da R<a class="anchor" aria-label="anchor" href="#file-di-dati-forniti-da-r"><i class="fas fa-link"></i></a>
</h2>
<p>In <code>R</code> esistono comunque oltre 50 insiemi di dati contenuti nel package
<code>base</code> e altri sono disponibili in altri packages. Per vedere l’elenco
degli insiemi di dati disponibili nel package <code>base</code> basta usare
l’istruzione <code><a href="https://rdrr.io/r/utils/data.html">data()</a></code>; per caricare un particolare insieme di dati, ad
esempio <code>cars</code>, basta utilizzare l’istruzione</p>
<pre><code><a href="https://rdrr.io/r/utils/data.html">data(cars)</a></code></pre>
<p>Nella maggior parte dei casi questo corrisponde a caricare un oggetto,
solitamente un data.frame dello stesso nome: per l’esempio considerato
si avrebbe un data frame di nome <code>cars</code>.</p>
</div>
<div id="esportazione-di-un-file" class="section level2" number="7.3">
<h2>
<span class="header-section-number">7.3</span> Esportazione di un file<a class="anchor" aria-label="anchor" href="#esportazione-di-un-file"><i class="fas fa-link"></i></a>
</h2>
<p>Per esportare un data.frame in formato <code>.csv</code> possiamo scrivere il
seguente codice</p>
<pre><code><a href="https://rdrr.io/r/utils/write.table.html">write.csv(df_esempio, file = "esempio.csv", row.names = FALSE)</a></code></pre>
<p>dove <code>df_esempio</code> è il data.frame da salvare e <code>esempio.csv</code> è il file
che verrà salvato all’interno della nostra cartellla di lavoro.</p>
</div>
<div id="pacchetto-rio" class="section level2" number="7.4">
<h2>
<span class="header-section-number">7.4</span> Pacchetto <code>rio</code><a class="anchor" aria-label="anchor" href="#pacchetto-rio"><i class="fas fa-link"></i></a>
</h2>
<p>Un’alternativa più semplice è fornita dalle funzioni fornite dal pacchetto <code>rio</code>. Per importare i dati da un file in qualsiasi formato si usa</p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_data_frame</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"my_file.csv"</span><span class="op">)</span></code></pre></div>
<p>Per esportare i dati in un file avente qualsiasi formato si usa invece</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/export.html">export</a></span><span class="op">(</span><span class="va">my_data_frame</span>, <span class="st">"my_file.csv"</span><span class="op">)</span></code></pre></div>
</div>
<div id="dove-sono-i-miei-file" class="section level2" number="7.5">
<h2>
<span class="header-section-number">7.5</span> Dove sono i miei file?<a class="anchor" aria-label="anchor" href="#dove-sono-i-miei-file"><i class="fas fa-link"></i></a>
</h2>
<p>Quello che abbiamo detto finora, a proposito dell’importazione ed esportazione dei file, si riferisce a file che si trovano nella cartella di lavoro (<em>working directory</em>). Ma non sempre ci troviamo in questa situazione, il che è anche una buona cosa, perché se dobbiamo gestire un progetto anche leggermente complesso è sempre una buona idea salvare i file che usiamo in cartelle diverse. Per esempio, possiamo usare una cartella chiamata <code>psicometria</code> dove salviamo tutto il materiale di questo insegnamento. Nella cartella <code>psicometria</code> ci potrà essere una cartella chiamata <code>scripts</code> dove salveremo gli script con il codice R utilizzato per i vari esercizi, e una cartella chiamata <code>data</code> dove possiamo salvare i dati. Questa organizzazione minimale ci pone, però, difronte ad un problema: i dati che vogliamo caricare in R non si trovano più nella cartella dove sono contenuti gli script. Quando importiamo un file di dati dobbiamo dunque specificare il percorso che identifica la posizione sul nostro computer del file che ci interessa.</p>
<p>Questo problema può essere risolto in due modi: speficicando l’inridizzo del file in modo assoluto o relativo. Specificare l’indirizzo di un file in modo assoluto ha una serie di limiti. Il più grande è che non sarà possibile utilizzare quell’istruzione su una macchina diversa. Dunque, è molto più conveniente specificare l’indirizzo dei file in modo relativo. Ma relativo rispetto a cosa? Rispetto alla <em>working directory</em> che definirà l’origine del nostro percorso.</p>
<p>Ma è facile immaginare che progetti diversi possano avere diverse <em>working directory</em>. Infatti le cose stanno proprio in questo modo: per ciascun progetto dobbiamo specificare una diversa <em>working directory</em>. Per esempio, potremmo avere un progetto relativo all’insegnamento di Psicometria e un progetto relativo alla prova finale.</p>
<p>Per organizzaere il lavoro in questo modo, si procede come segue. Supponiamo di creare una cartella chiamata <code>psicometria</code> che contiene, al suo interno, le cartelle <code>scripts</code> e <code>data</code>:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="chapter-input-output.html#cb91-1" aria-hidden="true" tabindex="-1"></a>psicometria<span class="sc">/</span></span>
<span id="cb91-2"><a href="chapter-input-output.html#cb91-2" aria-hidden="true" tabindex="-1"></a>  ├── data</span>
<span id="cb91-3"><a href="chapter-input-output.html#cb91-3" aria-hidden="true" tabindex="-1"></a>  ├── scripts</span></code></pre></div>
<p>Queste cartelle conterranno i file che ho specificato sopra.</p>
<p>Chiudiamo RStudio, se è aperto e lo riapriamo di nuovo. Dal menu selezioniamo <code>File -&gt; New Project...</code> Questo aprirà un altro menu che ci chiederà, tra le altre cose se vogliamo creare un nuovo progetto (<code>New project</code>). Selezioniamo quell’opzione e navighiamo fino alla cartella <code>psicometria</code> e selezioniamo <code>open</code>. Questo creerà un file chiamato <code>psicometria.Rproj</code> nella cartella <code>psicometria</code>.</p>
<p>Chiudiamo RStudio. Se vogliamo accedere al progetto “psicometria” dobbiamo cliccare sul file <code>psicometria.Rproj</code>. Questo aprirà RStudio e farà in modo che la <em>working directory</em> coincida con la cartalla <code>psicometria</code>. Ogni volta che vogliamo lavorare sui dati del progetto “psicometria” dobbiamo chiudere RStudio (se è già aperto) e riaprirlo cliccando sul file <code>psicometria.Rproj</code>.</p>
<p>A questo punto possiamo definire l’indirizzo dei file in modo relativo – relativo alla cartella <code>psicometria</code>. Per fare questo usiamo le funzionalità del pacchetto <code>here</code>. Supponiamo di volere caricare un file di dati che si chiama <code>dati_depressione.txt</code> e si trova nella cartella <code>data</code> contenuta nella cartella <code>psicometria</code>. Per importare questi dati (dopo avere caricato i pacchetti <code>rio</code> e <code>here</code>) useremo l’istruzione seguente:</p>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"dati_depressione.txt"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>In altre parole, così facendo specifichiamo il percorso relativo del file <code>dati_depressione.txt</code>. L’istruzione precedente significa che, partendo dalla cartella che coincide con la <em>working directory</em> dobbiamo spostarci nella cartella <code>data</code> e lì dentro troviamo il file chiamato <code>dati_depressione.txt</code>.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="chapter-strut-contr.html"><span class="header-section-number">6</span> Strutture di controllo</a></div>
<div class="next"><a href="manipolazione-dei-dati.html"><span class="header-section-number">8</span> Manipolazione dei dati</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#chapter-input-output"><span class="header-section-number">7</span> Input/Output</a></li>
<li><a class="nav-link" href="#la-funzione-read.table"><span class="header-section-number">7.1</span> La funzione read.table()</a></li>
<li><a class="nav-link" href="#file-di-dati-forniti-da-r"><span class="header-section-number">7.2</span> File di dati forniti da R</a></li>
<li><a class="nav-link" href="#esportazione-di-un-file"><span class="header-section-number">7.3</span> Esportazione di un file</a></li>
<li><a class="nav-link" href="#pacchetto-rio"><span class="header-section-number">7.4</span> Pacchetto rio</a></li>
<li><a class="nav-link" href="#dove-sono-i-miei-file"><span class="header-section-number">7.5</span> Dove sono i miei file?</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Data Science per psicologi</strong>" was written by Corrado Caudek. It was last built on 2021-04-28 07:30:40.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
